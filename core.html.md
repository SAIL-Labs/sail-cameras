# BaseCameraInterface


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Purpose

This module provides:

- A **uniform API** across all supported camera hardware.
- **SOLID** design principles to promote single-responsibility,
  extensibility, and decoupling.
- **Type safety** through Python type hints.
- **Easy testing** via dependency injection and mockability.

------------------------------------------------------------------------

## Key Interface: `CameraInterface`

`CameraInterface` is an abstract base class defining the essential
operations expected from any camera implementation.

### Core Lifecycle Methods

<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>__init__(**kwargs)</code></td>
<td>Sets up camera SDK, applies configuration, and prepares for
acquisition.</td>
</tr>
<tr>
<td><code>start_capture()</code></td>
<td>Begins image acquisition or live streaming.</td>
</tr>
<tr>
<td><code>stop_capture()</code></td>
<td>Halts image acquisition or live streaming.</td>
</tr>
<tr>
<td><code>get_image(wait=True)</code></td>
<td>Retrieves the latest frame, optionally blocking until a new one is
ready.</td>
</tr>
<tr>
<td><code>close()</code></td>
<td>Releases hardware resources and shuts down the camera safely.</td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

### Camera Settings as Properties

Common camera parameters are exposed as Python properties, allowing both
reading and writing through a uniform interface:

<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exposure</code></td>
<td>float</td>
<td>Camera exposure time (in seconds).</td>
</tr>
<tr>
<td><code>framerate</code></td>
<td>float</td>
<td>Frame rate (in frames per second).</td>
</tr>
<tr>
<td><code>gain</code></td>
<td>float</td>
<td>Sensor analog gain.</td>
</tr>
</tbody>
</table>

These properties standardize hardware parameter control across
heterogeneous devices.

------------------------------------------------------------------------

### Dark Frame Management

`CameraInterface` includes methods for managing dark-frame capture and
reuse:

<table>
<colgroup>
<col style="width: 28%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>take_dark(frames, save_path)</code></td>
<td>Captures and averages multiple frames to generate a dark frame.</td>
</tr>
<tr>
<td><code>load_dark(file)</code></td>
<td>Loads a previously saved dark frame from disk for subtraction or
QA.</td>
</tr>
</tbody>
</table>

This is particularly useful for calibration routines and background
subtraction workflows.

------------------------------------------------------------------------

## Design Considerations

- **Interface Enforcement**: All camera drivers must adhere to the same
  method/property interface, enabling interchangeability without
  modification to upstream systems.
- **Extensibility**: New camera types can be integrated by subclassing
  `CameraInterface` and implementing the required methods.
- **Mockability for Testing**: By abstracting away hardware-specific
  logic, the interface enables injection of mocks and stubs in test
  environments.
- **Consistency**: Centralized documentation and type annotations help
  enforce clarity and uniformity across all implementations.

------------------------------------------------------------------------

## Intended Usage

The module is meant to be subclassed by hardware-specific drivers. This
approach enables higher-level tools (e.g.Â data acquisition scripts,
GUIs, or analysis pipelines) to remain agnostic to the underlying camera
backend.

For a practical implementation, refer to concrete subclasses such as
[`FliCamera`](https://SAIL-Labs.github.io/sail-cameras/cameras/first-light.html#flicamera),
which adapts the interface to the FliSdk hardware.

------------------------------------------------------------------------

------------------------------------------------------------------------

<a
href="https://github.com/SAIL-Labs/sail-cameras/blob/main/sail_cameras/BaseCameraInterface.py#L85"
target="_blank" style="float:right; font-size:smaller">source</a>

### BaseCameraInterface.start_capture

>  BaseCameraInterface.start_capture ()

*Begin image acquisition or live stream.*

------------------------------------------------------------------------

<a
href="https://github.com/SAIL-Labs/sail-cameras/blob/main/sail_cameras/BaseCameraInterface.py#L92"
target="_blank" style="float:right; font-size:smaller">source</a>

### BaseCameraInterface.stop_capture

>  BaseCameraInterface.stop_capture ()

*Halt image acquisition or live stream.*

------------------------------------------------------------------------

<a
href="https://github.com/SAIL-Labs/sail-cameras/blob/main/sail_cameras/BaseCameraInterface.py#L106"
target="_blank" style="float:right; font-size:smaller">source</a>

### BaseCameraInterface.exposure

>  BaseCameraInterface.exposure ()

*Get or set the camera exposure time in seconds.*

------------------------------------------------------------------------

<a
href="https://github.com/SAIL-Labs/sail-cameras/blob/main/sail_cameras/BaseCameraInterface.py#L116"
target="_blank" style="float:right; font-size:smaller">source</a>

### BaseCameraInterface.framerate

>  BaseCameraInterface.framerate ()

*Get or set the camera frame rate in frames per second.*

------------------------------------------------------------------------

<a
href="https://github.com/SAIL-Labs/sail-cameras/blob/main/sail_cameras/BaseCameraInterface.py#L126"
target="_blank" style="float:right; font-size:smaller">source</a>

### BaseCameraInterface.gain

>  BaseCameraInterface.gain ()

*Get or set the camera gain (e.g., sensor analog gain).*

------------------------------------------------------------------------

<a
href="https://github.com/SAIL-Labs/sail-cameras/blob/main/sail_cameras/BaseCameraInterface.py#L129"
target="_blank" style="float:right; font-size:smaller">source</a>

### BaseCameraInterface.get_image

>  BaseCameraInterface.get_image (wait:bool=True)

*Retrieve the latest image frame. :param wait: block until a new frame
is available :return: 2D numpy array representing the image*

------------------------------------------------------------------------

<a
href="https://github.com/SAIL-Labs/sail-cameras/blob/main/sail_cameras/BaseCameraInterface.py#L138"
target="_blank" style="float:right; font-size:smaller">source</a>

### BaseCameraInterface.take_dark

>  BaseCameraInterface.take_dark (frames:int=100,
>                                     save_path:Optional[pathlib.Path]=None)

*Acquire a dark frame by averaging multiple captures. :param frames:
number of frames to average :param save_path: optional file path to save
the dark frame :return: dark frame array*

------------------------------------------------------------------------

<a
href="https://github.com/SAIL-Labs/sail-cameras/blob/main/sail_cameras/BaseCameraInterface.py#L150"
target="_blank" style="float:right; font-size:smaller">source</a>

### BaseCameraInterface.load_dark

>  BaseCameraInterface.load_dark (file:Union[str,pathlib.Path])

*Load a previously saved dark frame from disk.*

------------------------------------------------------------------------

<a
href="https://github.com/SAIL-Labs/sail-cameras/blob/main/sail_cameras/BaseCameraInterface.py#L157"
target="_blank" style="float:right; font-size:smaller">source</a>

### BaseCameraInterface.close

>  BaseCameraInterface.close ()

*Release all resources and shut down the camera.*

------------------------------------------------------------------------

<a
href="https://github.com/SAIL-Labs/sail-cameras/blob/main/sail_cameras/BaseCameraInterface.py#L164"
target="_blank" style="float:right; font-size:smaller">source</a>

### goodtimer

>  goodtimer (time_ms)

\*Active wait timer for precise timing control.

Unlike time.sleep(), this function actively consumes CPU cycles to
ensure more precise timing at the expense of CPU usage.\*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>time_ms</td>
<td>float</td>
<td>Time to wait in milliseconds.</td>
</tr>
</tbody>
</table>
